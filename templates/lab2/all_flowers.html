<!DOCTYPE html>
<html>
<head>
    <title>Все цветы</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
</head>
<body>
    <nav>
        <a href="/">Главное меню</a> | 
        <a href="/lab2/">Лаб. работа 2</a>
    </nav>

    <h1>Список цветов</h1>
    
    <h2>Добавить новый цветок</h2>
    <form action="{{ url_for('lab2.add_flower_form') }}" method="POST">
        <input type="text" name="name" placeholder="Название цветка" required>
        <input type="number" name="price" placeholder="Цена" value="0" required>
        <button type="submit">Добавить</button>
    </form>

    <h2>Список цветов (всего: {{ flowers|length }})</h2>
    {% if flowers %}
    <table border="1" style="border-collapse: collapse; width: 100%;">
        <tr>
            <th>ID</th>
            <th>Название</th>
            <th>Цена</th>
            <th>Действия</th>
        </tr>
        {% for flower in flowers %}
        <tr>
            <td>{{ loop.index0 }}</td>
            <td><a href="/lab2/flowers/{{ loop.index }}">{{ flower.name }}</a></td>
            <td>{{ flower.price }} руб.</td>
            <td>
                <a href="/lab2/delete_flower/{{ loop.index0 }}" 
                   style="color: red; text-decoration: none;" 
                   onclick="return confirm('Удалить цветок {{ flower.name }}?')">
                    Удалить
                </a>
            </td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
    <p>Список цветов пуст</p>
    {% endif %}

    <br>
    <a href="/lab2/clear_flowers" 
       style="background: red; color: white; padding: 10px; text-decoration: none;"
       onclick="return confirm('Удалить ВСЕ цветы?')">
        Удалить все цветы
    </a>
    
    <br><br>
    <a href="/lab2/">← Назад к лабораторной работе 2</a>
</body>
</html>