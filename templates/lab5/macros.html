{% macro article_form(article=None) %}
<div class="form-group">
    <label for="title">–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏:</label>
    <input type="text" id="title" name="title" maxlength="50" 
           class="form-control-custom"
           value="{{ article.title if article else request.form.title }}" 
           placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ (–º–∞–∫—Å–∏–º—É–º 50 —Å–∏–º–≤–æ–ª–æ–≤)" required>
    <div class="char-counter">
        <span id="title-counter">{{ (article.title if article else request.form.title or '')|length }}</span>/50
    </div>
</div>

<div class="form-group">
    <label for="article_text">–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏:</label>
    <textarea id="article_text" name="article_text" 
              class="form-control-custom"
              placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –≤–∞—à–µ–π —Å—Ç–∞—Ç—å–∏..." 
              rows="10" required>{{ article.article_text if article else request.form.article_text }}</textarea>
</div>

<div class="form-group">
    <label class="checkbox-custom">
        –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
        <input type="checkbox" name="is_favorite" value="1" 
               {% if article and article.is_favorite %}checked{% endif %}>
        <span class="checkmark"></span>
    </label>
    <small>‚≠ê –ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –ø–µ—Ä–≤—ã–º–∏</small>
</div>

<div class="form-group">
    <label class="checkbox-custom">
        –°–¥–µ–ª–∞—Ç—å –ø—É–±–ª–∏—á–Ω–æ–π
        <input type="checkbox" name="is_public" value="1" 
               {% if article and article.is_public %}checked{% endif %}>
        <span class="checkmark"></span>
    </label>
    <small>üåê –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –≤–∏–¥–Ω—ã –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</small>
</div>
{% endmacro %}

{% macro article_card(article, show_actions=True) %}
<div class="article-card card-hover fade-in {% if article.is_favorite %}favorite{% endif %}">
    {% if article.is_favorite %}
    <div class="favorite-badge badge-premium">‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
    {% endif %}
    {% if article.is_public %}
    <div class="public-badge badge-new">üåê –ü—É–±–ª–∏—á–Ω–∞—è</div>
    {% endif %}
    
    <div class="article-header">
        <h2 class="article-title text-shadow">{{ article.title or '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è' }}</h2>
        {% if show_actions %}
        <div class="article-actions">
            <a href="/lab5/edit/{{ article.id }}" class="btn btn-edit btn-glow">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
            <a href="/lab5/delete/{{ article.id }}" 
               class="btn btn-delete btn-glow" 
               onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É —Å—Ç–∞—Ç—å—é?')">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</a>
        </div>
        {% endif %}
    </div>
    <div class="article-content">
        <p>{{ article.article_text or '' }}</p>
    </div>
    <div class="article-footer">
        <small>ID: {{ article.id }}</small>
        {% if article.created_at %}
        <small>–°–æ–∑–¥–∞–Ω–æ: {{ article.created_at }}</small>
        {% endif %}
    </div>
</div>
{% endmacro %}

{% macro user_card(user) %}
<div class="user-card card-hover fade-in">
    <div class="user-avatar-container" style="position: relative;">
        <div class="user-avatar">
            {{ user.login[0]|upper }}
        </div>
        <div class="online-indicator"></div>
    </div>
    <div class="user-info">
        <h3 class="user-login text-shadow">{{ user.login }}</h3>
        {% if user.full_name %}
        <p class="user-full-name">{{ user.full_name }}</p>
        {% else %}
        <p class="user-full-name empty">–ò–º—è –Ω–µ —É–∫–∞–∑–∞–Ω–æ</p>
        {% endif %}
    </div>
    <div class="user-id">
        ID: {{ user.id }}
    </div>
</div>
{% endmacro %}

{% macro empty_state(title, message, button_text=None, button_url=None) %}
<div class="empty-state-enhanced fade-in">
    <h2>{{ title }}</h2>
    <p>{{ message }}</p>
    {% if button_text and button_url %}
    <a href="{{ button_url }}" class="btn btn-primary btn-glow">{{ button_text }}</a>
    {% endif %}
</div>
{% endmacro %}