{% extends "base.html" %}
{% include "lab5/style.html" %}
{% from "lab5/macros.html" import article_card %}

{% block lab %}Лабораторная работа 5{% endblock %}

{% block main %}
<div class="articles-container">
    <h1>Публичные статьи</h1>

    {% if error %}
        <div class="error-message">{{ error }}</div>
    {% endif %}

    {% if not articles %}
        <div class="no-articles">
            <div class="empty-state">
                <h2>Публичные статьи не найдены</h2>
                <p>Пока никто не поделился публичными статьями</p>
                {% if session.get('user_login') %}
                <a href="/lab5/create" class="btn btn-primary">Создать публичную статью</a>
                {% endif %}
            </div>
        </div>
    {% else %}
        <div class="articles-grid">
            {% for article in articles %}
                {{ article_card(article, show_actions=false) }}
            {% endfor %}
        </div>
    {% endif %}

    <div class="action-buttons">
        <a href="/lab5" class="btn btn-secondary">Назад к базе знаний</a>
    </div>
</div>
{% endblock %}